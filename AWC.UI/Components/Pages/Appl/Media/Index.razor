@page "/site/media"

@inject IAuthenticationStateService AuthenticationState
@inject IPermissionStylingService PermissionStyling
@rendermode InteractiveServer

<PageTitle>Site Management</PageTitle>

<RenderPermission Permissions="new[] { UserPermissionsEnum.Administrator, UserPermissionsEnum.ContentManager }" RedirectIfInvalid="true">
    <div class="container">
        <!-- Page Header -->
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">
                    <i class="fa fa-cogs"></i> Site Media Management
                </h3>
            </div>
            <div class="panel-body">
                <p class="text-muted">Manage all site content and features</p>
            </div>
        </div>

        <!-- Dashboard Grid -->
        <div class="row">
            @foreach (var item in GetManagementItems())
            {
                <div class="col-sm-6 col-md-4">
                    <div class="panel panel-default">
                        <div class="panel-heading clearfix">
                            <div class="pull-left">
                                <span class="label label-primary">
                                    <i class="@item.Icon"></i>
                                </span>
                                <strong class="ms-2">@item.Title</strong>
                            </div>
                        </div>
                        <div class="panel-body">
                            <p class="text-muted">@item.Description</p>
                        </div>
                        <div class="panel-footer clearfix">
                            <small class="text-muted pull-left">
                                <i class="fa fa-shield"></i> @item.PermissionLevel
                            </small>
                            <a href="@item.Link" class="btn btn-xs btn-primary pull-right">
                                Manage <i class="fa fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</RenderPermission>

@code {
    private static List<ManagementItemEntity> GetManagementItems()
    {
        return new List<ManagementItemEntity>
        {
            new() { Title = "Siider Images", Description = "Manage and create campus events, set dates, locations and registration requirements", Link = "/site/events", Icon = "fa fa-calendar", PermissionLevel = "Content Manager" },
            new() { Title = "Galleries", Description = "Create and manage photo galleries, organize albums and featured images", Link = "/site/gallery", Icon = "fa fa-image", PermissionLevel = "Content Manager+" },
        };
    }
}
